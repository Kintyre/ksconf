---
language: python
python:
#  - "2.6"
  - "2.7"
  - "3.4"
  - "3.5"
  - "3.6"
  # PyPy versions
#  - "pypy2.7"
#  - "pypy3.5"
cache: pip
# command to install dependencies
install:
  - pip install coverage
  - pip install coveralls
  - pip install codecov
  - pip install .
  - echo "Build $TRAVIS_BUILD_NUMBER"
#  - pip install -r requirements.txt
# command to run tests
#script: nosetests --with-coverage
script: coverage run -m unittest discover -s tests
after_success:
  - coveralls
  - codecov
  - ./make_zipapp
deploy:
  - provider: releases
    api_key:
      secure: 0EyoBqjUj6AZct5sRmHhjuD8E0d0gYuTu3MUUIR/TM69L3AITSrrS1n6AO/It9G5hn03dekejHfecAbhZfhWeX2M/7q9Yv7Rwj0otOsoNpc/wg85g8GOKwoAMMhE1JsYrYkrQ8bTt0N9uojxpDnMKhtE4K1K9E6c9Mc/+B87/GW/lK3+pOap5fisPT6Q76pfZsPd/mP62hazIwBp4arsTygStqMmRh0NatOMOKHch2+gnMAT7gpxCVR1wRv5f+r2hNJCuJstgmHEks5Wuqi4GDVCqpUqYCga3AUE7SNuSfkpNupeb46HG8ITZ6cOlKnrf/7TNpDmtDCH6IZn37ULQDT9ILXnGu0oKFaVfDpAVJBcPK1mGp8wCicfJHarOeVwunAFiIH8BnykeqsFw/743bxZFp8FVjo3nbo42PcFt0oJQ2gweuNT03r62DgRA1ujblgDwac8jxnaqkoCQJe+hS8OqCj4V+npNjewhJWb6b+QFqHJfaoKJXStoNAZF+eIX0wqG5xoUM5MZlkg3D5LyvDiMTYYpw4i4qq0WcizwVJrmci9W88sHn9GlWhv+sHpb9fGfnl1PvikNEveSFlsa7TfJYPGxOOblOYLa+Us2IkfuCQn+c0QbddOCywuPijERaiYo1FzAdHjjsVhDQSpjCvL9bVQfnUiYwoIlSt6wUM=
    file: build/ksconf-*-standalone
    file_glob: true
    skip_cleanup: true
    on:
      tags: true
      #repo: Kintyre/ksconf
      branch: master
  - provider: pypi
    user: lowellalleman
    password:
      secure: OqhsEKwmMHB26imHCH23UXINk0VEkeMR7uJRKvj90zz4c34VvPE5VJoYTOERMIEoNMBGr9VN1O216CJDAeykswxQG0CxsbTeIOVHB7avAQaodvWgosQDyyrwAypWtLsBu/LZdXWZ0j09CYB+DiG2zKBOdtER+YEqRSIMDFXRmWKfPvkOHkhh7v4bSjjs/w6HvV9FLgXnz1y7YxVwLmRHku8NWiqBq1q09b0gezBgOll7QhKFXMJLLtsy7V1JWV42e/B812RORiW+pnyZqLzDG6qoUd+W0aJMGUpMetm8dcgp70Teyq0jLSPVZ7BtuzudL8mimxONFr7QHDWwv2gsMKVg3xvfOJ1FvDsugGXTmbu3WtSeZEaXLaLo4xiyC5GLOGsPxZPPqpsE5K7UW14HQlCWPOYWD161fxW6stbDeIvxJOVn4aYUZFWr6jypJW2SYK1xCjSB8r8FSpJCCz1/3d5j9jFOJGf8eY9dDDkSUxWWjPHjbHjI5bWIC5k+sxXLmURA4Ne5gl4QSynX1TQFsU3AiSul93Ds6SSXSQJbSp0kwFwHPDju/g4RJB9rcH0EpJ0aTzuavvTIPLLCXO1HI8c/6uL5nWWUN6zwXjLsGrLY0Pb6VTxH/qiQPYJduWSXOXV9R2a0mGr8Jc4dCTQBeUCGGqEwMRnn3Iknx7JF0AE=
    distributions: "sdist bdist_wheel"
    skip_cleanup: true
    on:
      tags: true
      # For testing only...
      #all_branches: true
      branch: master
notifications:
  email:
    - lowell@kintyre.co
